{% extends 'base.html' %}

{% block title %}
<title>Posts</title>
{% endblock %}

{% block body %}
<h1>All Posts!</h1>

<hr>
<h2>Create New Blog Post: </h2>
<form action="/posts" method="POST">
    <label for="title">Title</label>
    <input class="form-control" type="text" name="title" id="title" placeholder="Enter Title" aria-label="Enter Title">
    <br>
    <label for="author">Author</label>
    <input class="form-control" type="text" id="author" name="author" placeholder="Enter Author" aria-label="Enter Author">
    <br>
    <label for="content">Post</label>
    <textarea class="form-control" id="exampleFormControlTextarea1" id="content" name="content" rows="3"></textarea>
    <br>
    <input type="submit" value="Post">
</form>
<hr>

{% for post in posts %}
<br>
<h2>{{ post.title }}</h2>

{% if post.author %}
<small>Writen by {{ post.author }} on {{post.date_posted}} </small>
{% else %}
<small>Writen by Unknown on {{post.date_posted}} </small>
{% endif %}
<br>
<br>

<p>{{ post.content }}
<p>
    <a class="btn btn-danger" href="posts/delete/{{post.id}}"> Delete </a>
    <a class="btn btn-primary" href="posts/edit/{{post.id}}"> Edit </a>
    <br>
    <hr>
    {% endfor %}

    {% endblock %}